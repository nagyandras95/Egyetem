@using Auctions_Portal.Models;

@model Tuple<Item,Int32>

@{
    Layout = "~/Views/Shared/_Layout.cshtml"; // megadjuk az elrendezést
}

@if (Model == null)
{
    <div class="contentText">Jelenleg nincs elérhető aukció</div>
}
else
{
    <div class="contentHead">@Model.Item1.Name</div>
    <div class="contentBody">
        <table width="600">
            <tr>
                <td>
                    <strong>Kategória:</strong> @Model.Item1.Category.CatgoryName
                </td>
            </tr>
            <tr>
                <td>
                    <strong>Aktuális összeg: </strong> @Model.Item2 Ft
                </td>

            </tr>
            <tr>
                <td>
                    <div class="contentComment">
                        <strong>Leírás:</strong> @Model.Item1.Description
                    </div>
                </td>
                
            </tr>
            
            <tr>
                <td>
                    <strong>Meghírdetés dátuma:</strong> @Model.Item1.StartDate
                </td>
            </tr>
             
            <tr>
                <td>
                    <strong>Lezárás dátuma:</strong> @Model.Item1.CloseDate
                </td>
            </tr>

            @if (ViewBag.Images != null && ViewBag.Images.Count > 0) // ha van kép a tárgyhoz
            {
                <tr>
                    <td>
                        <div class="contentComment">
                            <strong>Képek:</strong><br />
                            @foreach (Int32 id in ViewBag.Images) // a képek azonosítóit a nézet adataihoz töltöttük be
                            {
                                    
                                    <img src="@Url.Action("Image", new { imageId = id })" class="contentImage" />
                            }
                        </div>
                    </td>
                </tr>
            }
            else
            {
                <tr>
                    <td>
                        <div class="contentComment">
                            <strong>Képek:</strong><br />

                                <img src="~/Content/no_image.png" class="contentImage" />
                            
                        </div>
                    </td>
                </tr>
          }

            <tr>
                <td>
                    <div class="button">
                        @Html.ActionLink("Ajánlattétel", "Index", "Bidding", new { itemId = Model.Item1.ItemId }, new { @class = "contentLink" })
                    </div>
                </td>
            </tr>
          
        </table>
</div>
}
